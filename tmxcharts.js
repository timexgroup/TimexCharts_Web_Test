!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.tmxcharts=e():t.tmxcharts=e()}(self,(()=>(()=>{"use strict";var t={903:(t,e,r)=>{function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,a(n.key),n)}}function a(t){var e=function(t,e){if("object"!=n(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,"string");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==n(e)?e:String(e)}r.r(e);const i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),console.log("Class 1 constructor")}var e,r;return e=t,(r=[{key:"update",value:function(){console.log("Class 1 update")}}])&&o(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function s(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,u(n.key),n)}}function u(t){var e=function(t,e){if("object"!=l(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==l(e)?e:String(e)}const c=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),console.log("Class 2 constructor")}var e,r;return e=t,(r=[{key:"update",value:function(){console.log("Class 2 update")}}])&&s(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),f={USE_12HR_FORMAT:0,USE_24HR_FORMAT:1,USE_SYSTEM_FORMAT:2},y={ONE_SECOND:86400,ONE_MINUTE:1440,FIVE_MINUTES:288,TEN_MINUTES:144,FIFTEEN_MINUTES:96,TWENTY_MINUTES:72,THIRTY_MINUTES:48,ONE_HOUR:24};function b(t){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b(t)}function p(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,m(n.key),n)}}function m(t){var e=function(t,e){if("object"!=b(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=b(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==b(e)?e:String(e)}const d=function(){function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.startTime=e,this.stepCount=r}var e,r;return e=t,(r=[{key:"stepCount",get:function(){return this._stepCount},set:function(t){this._stepCount=t}},{key:"startTime",get:function(){return this._startTime},set:function(t){this._startTime=t}}])&&p(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function h(t){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h(t)}function v(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function S(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,g(n.key),n)}}function g(t){var e=function(t,e){if("object"!=h(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=h(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==h(e)?e:String(e)}const C=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.ctx=e,this.barColor="#3EB1C8",this.timeFormat=f.USE_12HR_FORMAT,this.maxIntervalCount=y.ONE_SECOND,this.intervalUsed=y.ONE_SECOND,this.displayIntervalCount=y.FIFTEEN_MINUTES,this.defdata={labels:[""],datasets:[{data:[0],backgroundColor:this.barColor,borderColor:this.barColor,borderWidth:1,barPercentage:1,categoryPercentage:1}]};var r={type:"bar",data:this.defdata,options:{animation:!1,aspectRatio:!1,scales:{x:{grid:{display:!1},ticks:{maxTicksLimit:24,callback:function(t,e,r){return r.length,""}}},y:{display:!1,beginAtZero:!0}},plugins:{tooltip:{enabled:!1},legend:{display:!1},customBackground:{enabled:!0,label1:"12:00 AM",label2:"12:00 PM",label3:"11:59 PM"}}}};this.addCustomXAxisLabels(),this.chart=new Chart(this.ctx,r)}var e,r;return e=t,(r=[{key:"addCustomXAxisLabels",value:function(){Chart.register({id:"customBackground",beforeDraw:function(t,e,r){var n=t.ctx,o=t.scales.x;n.save(),n.fillStyle="rgba(237, 239, 240, 1.0)",n.fillRect(0,t.chartArea.bottom,o.width,30),n.fillStyle="black",n.textAlign="center",n.fillText(r.label1,t.chartArea.left+30,t.chartArea.bottom+15),n.fillText(r.label2,o.width/2,t.chartArea.bottom+15),n.fillText(r.label3,t.chartArea.right-30,t.chartArea.bottom+15),n.restore()}})}},{key:"convertTimeToIndex",value:function(t){var e,r,n=t.split(":"),o=0,a=!1,i=0;switch(t.length>5&&(a=!0),e=Number(n[0]),r=Number(n[1]),1==a&&(o=Number(n[2])),this.maxIntervalCount){case y.ONE_SECOND:i=3600*e,i+=60*r,!0===a&&(i+=o);break;case y.ONE_MINUTE:i=60*e,i+=r;break;case y.FIVE_MINUTES:i=12*e,i+=r/5;break;case y.TEN_MINUTES:i=6*e,i+=r/10;break;case y.FIFTEEN_MINUTES:i=4*e,i+=r/15;break;case y.TWENTY_MINUTES:i=3*e,i+=r/20;break;case y.THIRTY_MINUTES:i=2*e,i+=r/30;break;case y.ONE_HOUR:i=e;break;default:i=0}return i}},{key:"setChartData",value:function(t){console.log("StepCountBarChart setChartData");var e=new Array(this.maxIntervalCount).fill(0),r=this.displayIntervalCount;if(this.displayIntervalCount>this.maxIntervalCount&&(r=this.maxIntervalCount),null!=t&&Array.isArray(t)&&t.length>0){this.setMaxIntervalCount(this.maxIntervalCount);var n,o=function(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return v(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?v(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,l=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){l=!0,a=t},f:function(){try{i||null==r.return||r.return()}finally{if(l)throw a}}}}(t);try{for(o.s();!(n=o.n()).done;){var a=n.value;e[this.convertTimeToIndex(a.startTime)]+=a.stepCount}}catch(t){o.e(t)}finally{o.f()}for(var i=new Array(r).fill(0),l=this.maxIntervalCount/r,s=0,u=0,c=0;c<r;c++)for(s=0;s<l;s++)i[c]+=e[u],u++;this.intervalUsed=this.displayIntervalCount,this.defdata.labels=new Array(r).fill(""),this.defdata.datasets[0].data=i,this.chart.update()}}},{key:"resetChart",value:function(){this.defdata.datasets[0].data=[],this.chart.update()}},{key:"setMaxStepsPerInterval",value:function(){console.log("StepCountBarChart setMaxStepsPerInterval")}},{key:"setMaxIntervalCount",value:function(t){this.maxIntervalCount=t}},{key:"setDisplayIntervalCount",value:function(t){this.displayIntervalCount=t}},{key:"getXAxisLabelsWithFormatting",value:function(t,e){switch(this.timeFormat){case f.USE_12HR_FORMAT:return t;case f.USE_24HR_FORMAT:return e;default:return t}}},{key:"setTimeDisplayFormat",value:function(t){this.timeFormat=t,this.chart.options.plugins.customBackground.label1=this.getXAxisLabelsWithFormatting("12:00 AM","00:00"),this.chart.options.plugins.customBackground.label2=this.getXAxisLabelsWithFormatting("12:00 PM","12:00"),this.chart.options.plugins.customBackground.label3=this.getXAxisLabelsWithFormatting("11:59 PM","23:59"),this.chart.update()}},{key:"setBarColor",value:function(t){this.barColor=t,this.defdata.datasets[0].backgroundColor=t,this.defdata.datasets[0].borderColor=t,this.chart.update()}}])&&S(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();void 0!==(t=r.hmd(t)).exports?t.exports={Class1:i,Class2:c,MY_CONSTANT:42,TimeDisplayFormat:f,TimeInterval:y,StepCountInterval:d,StepCountBarChart:C}:(window.Class1=i,window.Class2=c,window.MY_CONSTANT=42,window.TimeDisplayFormat=f,window.TimeInterval=y,window.StepCountInterval=d,window.StepCountBarChart=C)}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var a=e[n]={id:n,loaded:!1,exports:{}};return t[n](a,a.exports,r),a.loaded=!0,a.exports}return r.hmd=t=>((t=Object.create(t)).children||(t.children=[]),Object.defineProperty(t,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+t.id)}}),t),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r(903)})()));